# Description
Run openmrs reference application and mysql as disposable docker containers
for demo server.

The docker image used was generated by OpenMRS SDK, and deployed to Docker hub (check <https://hub.docker.com/r/openmrs/openmrs-distro-mdsbuilder/>

## Building and deploying new version

```
mvn openmrs-sdk:build-distro -Ddir=docker -Dbundled=true
cd docker/web
docker build -t openmrs/openmrs-distro-mdsbuilder:latest .
docker login
docker push openmrs/openmrs-distro-mdsbuilder
```
After pushing a new image, you need to deploy it to the server:
```
ssh your_username@mdsbuilder.openmrs.org
sudo -s
deploy-compose mdsbuilder
```

## Running it locally

To start both containers:
```
$ docker-compose down -v
$ docker-compose up
```

Use _CTRL + C_ to stop it all containers. But make sure to destroy containers to delete any
left overs volumes and data when doing changes to the docker configuration and images:

```
$ docker-compose down -v
```
